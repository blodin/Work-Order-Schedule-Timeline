<div class="timeline">
	<header class="timeline-header">
		<img src="assets/icons/naologic-logo.svg" alt="Naologic" class="timeline-header-logo" />
	</header>

	<main class="timeline-main">
		<h2>Work Orders</h2>

		<div class="timeline-filters">
			<span>Timescale</span>
			<select [ngModel]="timelineState().zoomLevel" (ngModelChange)="onZoomChange($event)">
				<option value="day">Day</option>
				<option value="week">Week</option>
				<option value="month">Month</option>
			</select>
		</div>

		<div class="timeline-section">
			<div class="timeline-work-center">
				<div class="timeline-section-header">Work Center</div>

				@for (row of workCenterRows(); track row.id) {
					<div class="timeline-section-content">{{ row.name }}</div>
				}
			</div>

			<div class="timeline-grid">
				<div class="timeline-section-header grid-items">
					@for (unit of headerUnits(); track unit.label) {
						<span class="grid-item" [class.is-today]="unit.isToday">
							{{ unit.label }}
						</span>
					}
				</div>

				<div class="timeline-grid-content">
					<div class="grid-columns">
						@for (unit of headerUnits(); track unit.label) {
							<div class="grid-column"></div>
						}
					</div>

					@for (row of workCenterRows(); track row.id) {
						<div class="timeline-grid-content-row">
							@for (positioned of row.orders; track positioned.workOrder.id) {
								@if (positioned.visible) {
									<div
										class="timeline-grid-content-row-item"
										[style.left.%]="positioned.left"
										[style.width.%]="positioned.width">
										<span class="title">{{ positioned.workOrder.title }}</span>
										<span class="status">{{ statusLabels[positioned.workOrder.status] }}</span>
										<span class="more-icon">
											<img src="assets/icons/more-icon.svg" alt="Dots" class="dots-icon" />
										</span>
									</div>
								}
							}
						</div>
					}
				</div>
			</div>
		</div>
	</main>
</div>
